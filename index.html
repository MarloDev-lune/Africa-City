<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Africa City</title>

  <!-- Ø¥Ø¶Ø§ÙØ© Ø³ÙƒØ±Ø¨Øª EmailJS -->
  <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script type="text/javascript">
    (function() {
      emailjs.init("pDB0RvlQN49S0PH-L"); // Ø§Ø³ØªØ¨Ø¯Ù„ "pDB0RvlQN49S0PH-L" Ø¨Ù€ Public Key Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† EmailJS
    })();
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: white;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      flex-direction: column;
    }

    button {
      background-color: #00aaff;
      color: white;
      padding: 15px 30px;
      border: none;
      border-radius: 8px;
      font-size: 1.2em;
      cursor: pointer;
      margin-top: 20px;
    }

    button:hover {
      background-color: #008fcc;
    }

    input {
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      width: 250px;
      border: 1px solid #ddd;
      font-size: 1em;
    }

    .form-container {
      display: none;
      flex-direction: column;
      align-items: center;
      margin-top: 20px;
    }

    .success-message {
      display: none;
      color: lightgreen;
      font-size: 1.2em;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h1>Welcome To Africa City</h1>

  <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <button id="register-btn" onclick="showEmailForm()">Sign Up</button>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
  <div id="email-form" class="form-container">
    <input type="email" id="email" placeholder="Enter your email" />
    <input type="password" id="password" placeholder="Enter your password" />
    <button onclick="sendVerificationCode()">Send Code</button>
  </div>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ø±Ø³Ù„ -->
  <div id="verification-form" class="form-container">
    <input type="text" id="verification-code" placeholder="Enter verification code" />
    <button onclick="verifyCode()">Verify Code</button>
  </div>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
  <div id="username-form" class="form-container">
    <input type="text" id="username" placeholder="Enter your username" />
    <button onclick="completeRegistration()">Complete Registration</button>
  </div>

  <!-- Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ -->
  <div id="success-message" class="success-message">Registration Successful! ðŸŽ‰</div>

  <script>
    const usedNames = ["admin", "test", "user"]; // List of used usernames

    // Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
    function showEmailForm() {
      document.getElementById("register-btn").style.display = "none";
      document.getElementById("email-form").style.display = "flex";
    }

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… EmailJS
    function sendVerificationCode() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      if (!email || !password) {
        alert("Please enter your email and password.");
        return;
      }

      // ØªÙˆÙ„ÙŠØ¯ Ø±Ù…Ø² Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù…ÙƒÙˆÙ† Ù…Ù† 4 Ø£Ø±Ù‚Ø§Ù…
      const code = Math.floor(1000 + Math.random() * 9000);
      localStorage.setItem("verification_code", code); // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø±Ù…Ø² Ù…Ø¤Ù‚ØªÙ‹Ø§

      // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ù…Ø² Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… EmailJS
      emailjs.send("service_tid0byc", "template_cfx1qfk", {
        to_email: email,
        code: code,
      }).then(function(response) {
        alert("A verification code has been sent to your email.");
        document.getElementById("email-form").style.display = "none";
        document.getElementById("verification-form").style.display = "flex";
      }, function(error) {
        alert("Failed to send verification code.");
        console.error(error);
      });
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ø±Ø³Ù„
    function verifyCode() {
      const enteredCode = document.getElementById("verification-code").value;
      const savedCode = localStorage.getItem("verification_code");

      if (enteredCode == savedCode) {
        alert("Code verified successfully.");
        document.getElementById("verification-form").style.display = "none";
        document.getElementById("username-form").style.display = "flex";
      } else {
        alert("Invalid code. Please try again.");
      }
    }

    // Ø¥ØªÙ…Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    function completeRegistration() {
      const username = document.getElementById("username").value.trim();

      if (!username) {
        alert("Please enter a username.");
        return;
      }

      if (usedNames.includes(username.toLowerCase())) {
        alert("Username is already taken. Please choose another one.");
        return;
      }

      document.getElementById("username-form").style.display = "none";
      document.getElementById("success-message").style.display = "block";
    }
  </script>

</body>
</html>

